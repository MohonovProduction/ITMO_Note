(function(){"use strict";var e={272:function(e,t,o){o.d(t,{A:function(){return d}});var a=o(641),n=o(33);function i(e,t,o,i,s,r){return(0,a.uX)(),(0,a.CE)("canvas",{ref:"canvas",style:(0,n.Tr)(`width: ${o.width}px; height: ${o.height}px`)},null,4)}var s=o(953),r=o(52),l={props:{src:{type:String,required:!0},width:{type:Number,default:500},height:{type:Number,default:500},autoplay:{type:Boolean,default:!0},stateMachines:{type:[String,Array],default:()=>[]}},setup(e){const t=(0,s.KR)(null);let o=null;return(0,a.sV)((()=>{t.value&&(o=new r.Rive({src:`/ITMO_Note/${e.src}`,canvas:t.value,autoplay:e.autoplay,stateMachines:e.stateMachines,layout:new r.Layout({fit:r.Fit.ScaleDown,alignment:r.Alignment.Center}),onLoad:()=>{o.resizeDrawingSurfaceToCanvas()},onError:e=>{console.error("Rive error: ",e)}}))})),(0,a.hi)((()=>{o&&(o.stop(),o.cleanup())})),{canvas:t}}},c=o(262);const u=(0,c.A)(l,[["render",i],["__scopeId","data-v-0647a6ab"]]);var d=u},336:function(e,t,o){e.exports=o.p+"img/tor4narek.4360dbfe.jpg"},340:function(e,t,o){var a=o(495);const n={user:null,token:localStorage.getItem("token")||null,loading:!1,error:null},i={isAuthenticated:e=>!!e.token,currentUser:e=>e.user,isLoading:e=>e.loading,error:e=>e.error},s={SET_USER(e,t){e.user=t},SET_TOKEN(e,t){e.token=t},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},CLEAR_AUTH(e){e.user=null,e.token=null}},r={async loginWithTelegram({commit:e},t){try{e("SET_LOADING",!0);const o=await a.ZQ.authTelegram(t),{token:n}=o;return e("SET_TOKEN",n),a.ZQ.setToken(n),o}catch(o){throw e("SET_ERROR",o.message),o}finally{e("SET_LOADING",!1)}},logout({commit:e}){e("CLEAR_AUTH"),a.ZQ.removeToken()}};t.A={namespaced:!0,state:n,getters:i,mutations:s,actions:r}},367:function(e,t,o){e.exports=o.p+"img/mohonov.622a5e69.jpg"},490:function(e,t,o){o.d(t,{s:function(){return n}});var a=o(625);const n={getPublicNotes:()=>a.A.get("/notes"),createNote:e=>{const{title:t,description:o,category:n,userId:i,isPublic:s,text:r}=e;return a.A.post("/notes",r,{params:{title:t,description:o,category:n,userId:i,isPublic:s}})},getPrivateNotes:()=>a.A.get("/notes/private"),getNoteById:e=>a.A.get(`/notes/${e}`),updateNote:(e,t)=>{console.log(t);const{title:o,description:n,category:i,text:s}=t;return a.A.put(`/notes/${e}`,s,{params:{title:o,description:n,category:i}})},deleteNote:e=>a.A.delete(`/notes/${e}`),searchNotesByCategory:e=>a.A.get("/notes/search",{params:{category:e}}),formatNote:e=>a.A.post("/notes/format",e),getCategories:()=>a.A.get("/notes/categories"),createCategory:e=>a.A.post("/notes/category",null,{params:{name:e}})}},495:function(e,t,o){o.d(t,{ZQ:function(){return a.Z},sC:function(){return n.s}});var a=o(565),n=o(490);o(600)},565:function(e,t,o){o.d(t,{Z:function(){return n}});var a=o(625);const n={authTelegram:e=>a.A.post("/users/auth/telegram",e),setToken:e=>{localStorage.setItem("token",e)},removeToken:()=>{localStorage.removeItem("token")},isAuthenticated:()=>!!localStorage.getItem("token")}},600:function(e,t,o){o.d(t,{w:function(){return n}});var a=o(625);const n={getMarkdownFile:async e=>{try{const t=await a.A.get(`https://tor4narek.ru${e}`,{});return t}catch(t){throw console.error("Ошибка при получении файла:",t),t}}}},625:function(e,t,o){var a=o(335),n=o(340);const i=a.A.create({baseURL:"https://tor4narek.ru/api",headers:{"Content-Type":"application/json"}});i.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e})),i.interceptors.response.use((e=>e.data),(e=>{if(console.log("error here",e),401===e.response?.status){console.log("error","try to auth");const o=localStorage.getItem("user");if(o)try{const t=JSON.parse(o);return n.A.authTelegram(t).then((t=>{localStorage.setItem("token",t.token);const o=e.config;return o.headers.Authorization=`Bearer ${t.token}`,i(o)})).catch((()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),Promise.reject(e))))}catch(t){return localStorage.removeItem("token"),Promise.reject(e)}localStorage.removeItem("token")}return Promise.reject(e)})),t.A=i},640:function(e,t,o){o.d(t,{A:function(){return d}});var a=o(641),n=o(33);const i=["disabled"],s={key:0,class:"material-symbols-outlined submit-button__icon"};function r(e,t,o,r,l,c){return(0,a.uX)(),(0,a.CE)("button",{class:(0,n.C4)(["submit-button",{"is-submitting":o.isSubmitting}]),disabled:o.isSubmitting||o.disabled,onClick:t[0]||(t[0]=(...e)=>c.handleClick&&c.handleClick(...e))},[o.icon?((0,a.uX)(),(0,a.CE)("span",s,(0,n.v_)(o.icon),1)):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,n.v_)(o.text),1)],10,i)}var l={name:"SubmitButton",props:{text:{type:String,required:!0},isSubmitting:{type:Boolean,default:!1},icon:{type:String,default:""},disabled:{type:Boolean,default:!1}},methods:{handleClick(e){this.isSubmitting||this.disabled||this.$emit("click",e)}},emits:["click"]},c=o(262);const u=(0,c.A)(l,[["render",r],["__scopeId","data-v-74cbaa51"]]);var d=u},682:function(e,t,o){o.d(t,{A:function(){return E}});var a=o(641),n=o(33),i=o(751);const s={class:"input-group"},r=["for"],l={class:"select-container"},c={class:"selected-value"},u={key:0,class:"chip"},d={key:1,class:"placeholder"},p={class:"material-symbols-outlined dropdown-icon"},m={key:0,class:"dropdown-content"},h={class:"options-list"},g=["onClick"],f={key:0,class:"material-symbols-outlined check-icon"},v={key:0,class:"input-error-message"};function b(e,t,o,b,y,_){const k=(0,a.g2)("TextField");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("label",{for:o.id},(0,n.v_)(o.label),9,r),(0,a.Lk)("div",l,[(0,a.Lk)("div",{class:(0,n.C4)(["select-field",{"is-open":y.isOpen,"input-error":o.error}]),onClick:t[0]||(t[0]=(...e)=>_.toggleDropdown&&_.toggleDropdown(...e))},[(0,a.Lk)("div",c,[_.selectedOption?((0,a.uX)(),(0,a.CE)("span",u,(0,n.v_)(_.selectedOption.label),1)):((0,a.uX)(),(0,a.CE)("span",d,(0,n.v_)(o.placeholder),1))]),(0,a.Lk)("span",p,(0,n.v_)(y.isOpen?"expand_less":"expand_more"),1)],2),(0,a.bF)(i.eB,{name:"dropdown"},{default:(0,a.k6)((()=>[y.isOpen?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",h,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.options,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.value,class:(0,n.C4)(["option",{"is-selected":o.modelValue===e.value}]),onClick:t=>_.selectOption(e)},[(0,a.eW)((0,n.v_)(e.label)+" ",1),o.modelValue===e.value?((0,a.uX)(),(0,a.CE)("span",f,"check")):(0,a.Q3)("",!0)],10,g)))),128)),(0,a.Lk)("div",{class:"custom-option",onClick:t[1]||(t[1]=e=>y.showCustomInput=!0)},t[3]||(t[3]=[(0,a.Lk)("span",{class:"material-symbols-outlined"},"add",-1),(0,a.eW)(" Добавить свою категорию ")]))])])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(i.eB,{name:"slide-fade"},{default:(0,a.k6)((()=>[y.showCustomInput?((0,a.uX)(),(0,a.Wv)(k,{key:0,id:"custom-category",label:"Новая категория",modelValue:y.customValue,"onUpdate:modelValue":t[2]||(t[2]=e=>y.customValue=e),onBlur:_.handleCustomInputBlur,placeholder:"Введите название категории"},null,8,["modelValue","onBlur"])):(0,a.Q3)("",!0)])),_:1})]),(0,a.bF)(i.eB,{name:"error"},{default:(0,a.k6)((()=>[o.error?((0,a.uX)(),(0,a.CE)("span",v,(0,n.v_)(o.error),1)):(0,a.Q3)("",!0)])),_:1})])}var y=o(929),_={name:"SelectField",components:{TextField:y.A},props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:String,required:!0},options:{type:Array,required:!0,validator:e=>e.every((e=>"object"===typeof e&&"value"in e&&"label"in e))},placeholder:{type:String,default:"Выберите категорию"},isLoading:{type:Boolean,default:!1},error:{type:String,default:""}},data(){return{isOpen:!1,showCustomInput:!1,customValue:""}},computed:{selectedOption(){return this.options.find((e=>e.value===this.modelValue))}},methods:{toggleDropdown(){this.isOpen=!this.isOpen},selectOption(e){this.$emit("update:modelValue",e.value),this.isOpen=!1},handleCustomInputBlur(){if(this.customValue.trim()){const e={value:this.customValue.toLowerCase().replace(/\s+/g,"-"),label:this.customValue};this.$emit("update:modelValue",e.value),this.$emit("add-option",e)}this.showCustomInput=!1,this.customValue=""}},mounted(){document.addEventListener("click",(e=>{this.$el.contains(e.target)||(this.isOpen=!1)}))},emits:["update:modelValue","add-option"]},k=o(262);const S=(0,k.A)(_,[["render",b],["__scopeId","data-v-1defb310"]]);var E=S},818:function(e,t,o){o.d(t,{A:function(){return c}});var a=o(641),n=o(33);const i=["type","disabled"];var s={__name:"BaseButton",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","outline","danger","clear","text"].includes(e)},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},type:{type:String,default:"button",validator:e=>["button","submit","reset"].includes(e)},icon:{type:String,default:""},iconPosition:{type:String,default:"left",validator:e=>["left","right"].includes(e)},loading:{type:Boolean,default:!1},iconOnly:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const o=e,s=t,r=(0,a.EW)((()=>({"base-button":!0,[`base-button--${o.variant}`]:!0,[`base-button--${o.size}`]:!0,"base-button--disabled":o.disabled,"base-button--full-width":o.fullWidth,[`base-button--icon-${o.iconPosition}`]:o.icon,"base-button--loading":o.loading,"base-button--icon-only":o.iconOnly}))),l=(0,a.EW)((()=>({"base-button__content":!0,"base-button__content--hidden":o.loading}))),c=(0,a.EW)((()=>({"base-button__icon":!0,"material-symbols-outlined":!0,"base-button__icon--hidden":o.loading}))),u=e=>{o.disabled||s("click",e)};return(t,o)=>((0,a.uX)(),(0,a.CE)("button",{class:(0,n.C4)(r.value),type:e.type,disabled:e.disabled||e.loading,onClick:u},[o[0]||(o[0]=(0,a.Lk)("span",{class:"base-button__loader"},null,-1)),e.icon?((0,a.uX)(),(0,a.CE)("span",{key:0,class:(0,n.C4)(c.value)},(0,n.v_)(e.icon),3)):(0,a.Q3)("",!0),e.iconOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,n.C4)(l.value)},[(0,a.RG)(t.$slots,"default")],2))],10,i))}},r=o(262);const l=(0,r.A)(s,[["__scopeId","data-v-48001d0e"]]);var c=l},858:function(e,t,o){o.d(t,{A:function(){return h}});var a=o(641),n=o(33),i=o(751);const s={class:"input-group"},r=["for"],l=["id","value","placeholder"],c={key:0,class:"input-error-message"};function u(e,t,o,u,d,p){return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("label",{for:o.id},(0,n.v_)(o.label),9,r),(0,a.Lk)("textarea",{id:o.id,value:o.modelValue,placeholder:o.placeholder,class:(0,n.C4)(["textarea-field",{"input-error":o.error}]),onInput:t[0]||(t[0]=(...e)=>p.handleInput&&p.handleInput(...e)),ref:"textarea"},null,42,l),(0,a.bF)(i.eB,{name:"error"},{default:(0,a.k6)((()=>[o.error?((0,a.uX)(),(0,a.CE)("span",c,(0,n.v_)(o.error),1)):(0,a.Q3)("",!0)])),_:1})])}var d={name:"TextAreaField",props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:String,default:""},placeholder:{type:String,default:""},error:{type:String,default:""}},emits:["update:modelValue"],methods:{autoResize(){const e=this.$refs.textarea;e.style.height="auto",e.style.height=e.scrollHeight+"px"},handleInput(e){this.$emit("update:modelValue",e.target.value),this.autoResize()}},mounted(){this.autoResize()}},p=o(262);const m=(0,p.A)(d,[["render",u],["__scopeId","data-v-d0591ac2"]]);var h=m},929:function(e,t,o){o.d(t,{A:function(){return g}});var a=o(641),n=o(33),i=o(751);const s={class:"input-group"},r=["for"],l={class:"input-with-button"},c=["id","type","value","placeholder"],u={key:0,class:"input-error-message"};function d(e,t,o,d,p,m){return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("label",{for:o.id},(0,n.v_)(o.label),9,r),(0,a.Lk)("div",l,[(0,a.Lk)("input",{id:o.id,type:o.type,value:o.modelValue,placeholder:o.placeholder,class:(0,n.C4)(["input-field",{"input-error":o.error}]),onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,42,c),(0,a.RG)(e.$slots,"button")]),(0,a.bF)(i.eB,{name:"error"},{default:(0,a.k6)((()=>[o.error?((0,a.uX)(),(0,a.CE)("span",u,(0,n.v_)(o.error),1)):(0,a.Q3)("",!0)])),_:1})])}var p={name:"TextField",props:{id:{type:String,required:!0},label:{type:String,required:!0},modelValue:{type:String,default:""},placeholder:{type:String,default:""},type:{type:String,default:"text"},error:{type:String,default:""}},emits:["update:modelValue"]},m=o(262);const h=(0,m.A)(p,[["render",d],["__scopeId","data-v-1c784ac7"]]);var g=h},955:function(e,t,o){var a=o(751),n=o(641);function i(e,t,o,i,s,r){const l=(0,n.g2)("Breadcrumbs"),c=(0,n.g2)("router-view"),u=(0,n.g2)("Footer"),d=(0,n.g2)("Loader"),p=(0,n.g2)("FloatActionButton"),m=(0,n.g2)("AuthModal"),h=(0,n.g2)("NotificationContainer"),g=(0,n.g2)("SlideOutMenu"),f=(0,n.g2)("SlideOutGenerator");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(l),(0,n.bF)(c,null,{default:(0,n.k6)((({Component:e})=>[(0,n.bF)(a.eB,{name:"m-fade"},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e)))])),_:2},1024)])),_:1}),(0,n.bF)(u),(0,n.bF)(a.eB,{name:"m-fade"},{default:(0,n.k6)((()=>[s.loader?((0,n.uX)(),(0,n.Wv)(d,{key:0})):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(a.eB,{name:"slide-up"},{default:(0,n.k6)((()=>[r.isGeneratorOpen?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(p,{key:0}))])),_:1}),((0,n.uX)(),(0,n.Wv)(n.Im,{to:"body"},[(0,n.bF)(m,{"is-open":r.isAuthModalOpen,props:r.authModalProps,onClose:e.closeAuthModal,onSuccess:r.handleAuthSuccess},null,8,["is-open","props","onClose","onSuccess"])])),((0,n.uX)(),(0,n.Wv)(n.Im,{to:"body"},[(0,n.bF)(h)])),(0,n.Lk)("section",null,[((0,n.uX)(),(0,n.Wv)(n.Im,{to:"body"},[(0,n.bF)(g)])),((0,n.uX)(),(0,n.Wv)(n.Im,{to:"body"},[(0,n.bF)(f)]))])],64)}function s(e,t){const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("nav",null,[(0,n.bF)(o,{to:"/"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("Архив")]))),_:1}),(0,n.bF)(o,{to:"/generator"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("Записать")]))),_:1}),(0,n.bF)(o,{to:"/about"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("Стенд")]))),_:1})])}var r=o(262);const l={},c=(0,r.A)(l,[["render",s],["__scopeId","data-v-22e0f78b"]]);var u=c,d=o(33);const p={class:"breadcrumbs"};function m(e,t,o,i,s,r){const l=(0,n.g2)("BaseButton"),c=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",p,[(0,n.bF)(l,{class:"burger-button",onClick:e.openSlideOutMenu,icon:"menu",iconOnly:"",variant:"clear"},null,8,["onClick"]),(0,n.bF)(a.F,{name:"m-fade"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.crumbs,((e,t)=>((0,n.uX)(),(0,n.Wv)(c,{key:t,to:e.path,class:"breadcrumb"},{default:(0,n.k6)((()=>[(0,n.eW)((0,d.v_)(e.name),1)])),_:2},1032,["to"])))),128))])),_:1})])}var h=o(278),g=o(818),f={name:"Breadcrumbs",components:{BaseButton:g.A},computed:{crumbs(){const e=[],t=this.$route,o=t.path.split("/").filter((e=>e));return o.reduce(((t,o,a)=>{const n=`${t}/${o}`,i=this.formatCrumbName(o);return e.push({path:n,name:i}),n}),""),"/"!==t.path&&e.unshift({path:"/",name:"Home"}),0==o.length&&e.push({path:"/",name:"Home"}),e}},methods:{...(0,h.i0)("ui",["openSlideOutMenu"]),formatCrumbName(e){return e.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}};const v=(0,r.A)(f,[["render",m],["__scopeId","data-v-dd6c3ae6"]]);var b=v;const y={class:"loader"};function _(e,t,o,a,i,s){const r=(0,n.g2)("RiveAnimation");return(0,n.uX)(),(0,n.CE)("div",y,[(0,n.bF)(r,{src:"/assets/animations/loader.riv",width:205,height:205,autoplay:!0})])}var k=o(272),S={name:"Loader",components:{RiveAnimation:k.A},props:{show:Boolean}};const E=(0,r.A)(S,[["render",_],["__scopeId","data-v-89b2c276"]]);var O=E,T=o(367),A=o(336);const C={class:"footer"},N={class:"footer-content"},L={class:"footer-section"},I={class:"footer-nav"},F={class:"footer-bottom"};function M(e,t,o,a,i,s){const r=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("footer",C,[(0,n.Lk)("div",N,[t[4]||(t[4]=(0,n.Fv)('<div class="footer-section" data-v-a920fec6><h3 data-v-a920fec6>ITMO Notes</h3><p data-v-a920fec6>Платформа для создания и хранения учебных конспектов</p><div class="social-links" data-v-a920fec6><a href="https://t.me/mohonovproduction" target="_blank" class="social-link" aria-label="Telegram" data-v-a920fec6><i class="fab fa-telegram" data-v-a920fec6></i></a><a href="https://github.com/MohonovProduction/ITMO_Note" target="_blank" class="social-link" aria-label="GitHub" data-v-a920fec6><i class="fab fa-github" data-v-a920fec6></i></a></div></div>',1)),(0,n.Lk)("div",L,[t[3]||(t[3]=(0,n.Lk)("h3",null,"Навигация",-1)),(0,n.Lk)("nav",I,[(0,n.bF)(r,{to:"/",class:"nav-link"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"archive",-1),(0,n.Lk)("span",null,"Архив",-1)]))),_:1}),(0,n.bF)(r,{to:"/generator",class:"nav-link"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"note_add",-1),(0,n.Lk)("span",null,"Записать",-1)]))),_:1}),(0,n.bF)(r,{to:"/about",class:"nav-link"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"info",-1),(0,n.Lk)("span",null,"О проекте",-1)]))),_:1})])]),t[5]||(t[5]=(0,n.Fv)('<div class="footer-section" data-v-a920fec6><h3 data-v-a920fec6>Репозитории</h3><div class="repositories" data-v-a920fec6><a href="https://github.com/MohonovProduction/ITMO_Note" target="_blank" class="repository-link" data-v-a920fec6><i class="fab fa-github" data-v-a920fec6></i><span data-v-a920fec6>Frontend</span></a><a href="https://github.com/Tor4narek/ItmoNoteApi" target="_blank" class="repository-link" data-v-a920fec6><i class="fab fa-github" data-v-a920fec6></i><span data-v-a920fec6>Backend</span></a></div></div><div class="footer-section" data-v-a920fec6><h3 data-v-a920fec6>Авторы</h3><div class="authors" data-v-a920fec6><a href="https://t.me/mohonovproduction" target="_blank" class="author" data-v-a920fec6><img src="'+T+'" alt="Михаил Мохонов" class="author-avatar" data-v-a920fec6><div class="author-info" data-v-a920fec6><h4 data-v-a920fec6>Михаил Мохонов</h4><p data-v-a920fec6>Frontend Developer</p></div></a><a href="https://t.me/tor4narek" target="_blank" class="author" data-v-a920fec6><img src="'+A+'" alt="Егор Кречетов" class="author-avatar" data-v-a920fec6><div class="author-info" data-v-a920fec6><h4 data-v-a920fec6>Егор Кречетов</h4><p data-v-a920fec6>Backend Developer</p></div></a></div></div>',2))]),(0,n.Lk)("div",F,[(0,n.Lk)("p",null,"© "+(0,d.v_)(s.currentYear)+" ITMO Notes. Все права защищены.",1),t[6]||(t[6]=(0,n.Fv)('<div class="footer-links" data-v-a920fec6><a href="https://github.com/MohonovProduction/ITMO_Note/blob/main/LICENSE" target="_blank" data-v-a920fec6><span class="material-symbols-outlined" data-v-a920fec6>gavel</span><span data-v-a920fec6>Лицензия</span></a><a href="https://github.com/MohonovProduction/ITMO_Note/issues" target="_blank" data-v-a920fec6><span class="material-symbols-outlined" data-v-a920fec6>bug_report</span><span data-v-a920fec6>Сообщить об ошибке</span></a></div>',1))])])}var R={name:"Footer",computed:{currentYear(){return(new Date).getFullYear()}}};const w=(0,r.A)(R,[["render",M],["__scopeId","data-v-a920fec6"]]);var B=w;const D={key:0,class:"auth-modal"},G={class:"auth-modal__content"},V={class:"auth-modal__header"},x={class:"auth-modal__body"};function P(e,t,o,i,s,r){const l=(0,n.g2)("BaseButton"),c=(0,n.g2)("telegramLoginTemp");return(0,n.uX)(),(0,n.Wv)(a.eB,{name:"fade"},{default:(0,n.k6)((()=>[o.isOpen?((0,n.uX)(),(0,n.CE)("div",D,[(0,n.Lk)("div",{class:"auth-modal__overlay",onClick:t[0]||(t[0]=(...e)=>r.closeModal&&r.closeModal(...e))}),(0,n.bF)(a.eB,{name:"scale"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",G,[(0,n.Lk)("div",V,[t[1]||(t[1]=(0,n.Lk)("h2",null,"Авторизация",-1)),(0,n.bF)(l,{variant:"clear",size:"small",icon:"close",iconOnly:"",onClick:r.closeModal},null,8,["onClick"])]),(0,n.Lk)("div",x,[t[2]||(t[2]=(0,n.Lk)("p",null,"Для продолжения необходимо авторизоваться через Telegram",-1)),(0,n.bF)(c,{mode:"callback","telegram-login":"itmo_note_bot",onLoaded:r.telegramLoadedCallbackFunc,onCallback:r.handleTelegramCallback},null,8,["onLoaded","onCallback"])])])])),_:1})])):(0,n.Q3)("",!0)])),_:1})}var X=o(23),U={components:{telegramLoginTemp:X.b,BaseButton:g.A},props:{isOpen:{type:Boolean,required:!0},props:{type:Object,default:()=>({})}},emits:["close","success"],methods:{...(0,h.i0)("auth",["loginWithTelegram"]),...(0,h.i0)("ui",["closeAuthModal","addNotification"]),closeModal(){this.closeAuthModal()},transformTelegramUser(e){return{id:e.id,firstName:e.first_name,lastName:e.last_name,username:e.username,authDate:e.auth_date,hash:e.hash}},async handleTelegramCallback(e){try{const t=this.transformTelegramUser(e);await this.loginWithTelegram(t),this.$emit("success",t),this.addNotification({message:"Успешная авторизация!",type:"success"})}catch(t){console.error("Ошибка авторизации:",t),this.addNotification({message:"Ошибка авторизации. Пожалуйста, попробуйте снова.",type:"error"})}},telegramLoadedCallbackFunc(){if("false"==={VUE_APP_API_BASE_URL:"https://tor4narek.ru/api",VUE_APP_ROOT_URL:"https://tor4narek.ru",NODE_ENV:"production",BASE_URL:"/ITMO_Note/"}.VUE_APP_BYPASS_AUTH){const e={id:656626574,first_name:"Mihail",last_name:"Mohónov",username:"mohonovproduction",auth_date:1743683646,hash:"0e7efe11ac8c39035e77bf50716003d269aa03c35911f41fc42e9b0cae15c1f6"};console.log("You in dev mode:",e),this.handleTelegramCallback(e)}console.log("Telegram widget loaded")}}};const $=(0,r.A)(U,[["render",P],["__scopeId","data-v-0827dbc0"]]);var W=$;const j={class:"notification-container"};function Q(e,t,o,i,s,r){const l=(0,n.g2)("Notification");return(0,n.uX)(),(0,n.CE)("div",j,[(0,n.bF)(a.F,{name:"notification-list"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.notifications,(t=>((0,n.uX)(),(0,n.Wv)(l,{key:t.id,message:t.message,type:t.type,id:t.id,onClose:e.removeNotification},null,8,["message","type","id","onClose"])))),128))])),_:1})])}function H(e,t,o,a,i,s){return i.isVisible?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,d.C4)(["notification",`notification-${o.type}`])},[(0,n.Lk)("span",null,(0,d.v_)(o.message),1),(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.close&&s.close(...e)),class:"close-button"},"×")],2)):(0,n.Q3)("",!0)}var q={name:"Notification",props:{message:{type:String,required:!0},type:{type:String,default:"success"},id:{type:[String,Number],required:!0}},data(){return{isVisible:!0}},mounted(){setTimeout((()=>{this.close()}),3e3)},methods:{close(){this.isVisible=!1,this.$emit("close",this.id)}}};const z=(0,r.A)(q,[["render",H],["__scopeId","data-v-7f94926e"]]);var K=z,Z={name:"NotificationContainer",components:{Notification:K},computed:{...(0,h.aH)("ui",["notifications"])},methods:{...(0,h.i0)("ui",["removeNotification"])}};const Y=(0,r.A)(Z,[["render",Q],["__scopeId","data-v-80316356"]]);var J=Y;const ee={key:0,class:"slide-out-menu"},te={class:"menu-header"},oe={class:"menu-nav"},ae={class:"auth-section"},ne={key:0,class:"user-info"},ie={class:"user-name"},se={class:"user-telegram"};function re(e,t,o,i,s,r){const l=(0,n.g2)("BaseButton"),c=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.Wv)(a.eB,{name:"slide-fade"},{default:(0,n.k6)((()=>[r.isOpen?((0,n.uX)(),(0,n.CE)("div",ee,[(0,n.Lk)("div",te,[t[1]||(t[1]=(0,n.Lk)("h2",null,"Меню",-1)),(0,n.bF)(l,{class:"close-button",onClick:r.closeMenu,icon:"close",iconOnly:"",variant:"clear"},null,8,["onClick"])]),(0,n.Lk)("nav",oe,[(0,n.bF)(c,{to:"/",class:"nav-link",onClick:r.closeMenu},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"archive",-1),(0,n.eW)(" Архив ")]))),_:1},8,["onClick"]),(0,n.bF)(c,{to:"/personal",class:"nav-link",onClick:r.closeMenu},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"person",-1),(0,n.eW)(" Личное ")]))),_:1},8,["onClick"]),(0,n.bF)(c,{to:"/teams",class:"nav-link",onClick:r.closeMenu},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"groups",-1),(0,n.eW)(" Группы ")]))),_:1},8,["onClick"]),(0,n.bF)(c,{to:"/about",class:"nav-link",onClick:r.closeMenu},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"dashboard",-1),(0,n.eW)(" Стенд ")]))),_:1},8,["onClick"])]),(0,n.Lk)("div",ae,[e.isAuthenticated?((0,n.uX)(),(0,n.CE)("div",ne,[(0,n.Lk)("div",ie,(0,d.v_)(e.user.name),1),(0,n.Lk)("div",se,"@"+(0,d.v_)(e.user.username),1)])):((0,n.uX)(),(0,n.CE)("button",{key:1,class:"auth-button",onClick:t[0]||(t[0]=(...e)=>r.handleAuthClick&&r.handleAuthClick(...e))},t[6]||(t[6]=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"login",-1),(0,n.eW)(" Войти ")])))])])):(0,n.Q3)("",!0)])),_:1})}var le={name:"SlideOutMenu",components:{BaseButton:g.A},computed:{...(0,h.L8)("ui",["isSlideOutMenuOpen"]),...(0,h.L8)("auth",["isAuthenticated"]),...(0,h.L8)("user",["user"]),isOpen(){return this.isSlideOutMenuOpen}},methods:{...(0,h.i0)("ui",["closeSlideOutMenu","openAuthModal"]),closeMenu(){this.closeSlideOutMenu()},handleAuthClick(){this.closeMenu(),this.openAuthModal()}}};const ce=(0,r.A)(le,[["render",re],["__scopeId","data-v-61c390c6"]]);var ue=ce;const de={key:0,class:"generator-container"},pe={class:"generator-header"},me={key:0,class:"content-section"},he={class:"metadata-section"},ge={class:"checkbox-field"},fe={class:"prompt-section"},ve={class:"text-section"},be={class:"button-group"},ye={key:1,class:"auth-section"};function _e(e,t,o,i,s,r){const l=(0,n.g2)("BaseButton"),c=(0,n.g2)("TextField"),u=(0,n.g2)("SelectField"),d=(0,n.g2)("CheckboxField"),p=(0,n.g2)("TextAreaField"),m=(0,n.g2)("SubmitButton");return(0,n.uX)(),(0,n.Wv)(a.eB,{name:"slide-fade-right"},{default:(0,n.k6)((()=>[r.isOpen?((0,n.uX)(),(0,n.CE)("div",de,[(0,n.Lk)("div",pe,[t[7]||(t[7]=(0,n.Lk)("h1",null,"Запись конпсекта",-1)),(0,n.bF)(l,{onClick:r.closeModal,icon:"close",iconOnly:"",variant:"clear"},null,8,["onClick"])]),e.isAuthenticated?((0,n.uX)(),(0,n.CE)("div",me,[(0,n.Lk)("div",he,[(0,n.bF)(c,{id:"title",label:"Заголовок:",modelValue:s.title,"onUpdate:modelValue":t[0]||(t[0]=e=>s.title=e),placeholder:"Введите заголовок",error:s.errors.title},{button:(0,n.k6)((()=>[(0,n.bF)(l,{onClick:r.handleTitleMagic,icon:"wand_stars",iconOnly:""},null,8,["onClick"])])),_:1},8,["modelValue","error"]),(0,n.bF)(c,{id:"description",label:"Описание:",modelValue:s.description,"onUpdate:modelValue":t[1]||(t[1]=e=>s.description=e),placeholder:"Введите описание",error:s.errors.description},{button:(0,n.k6)((()=>[(0,n.bF)(l,{onClick:r.handleDescriptionMagic,icon:"wand_stars",iconOnly:""},null,8,["onClick"])])),_:1},8,["modelValue","error"]),(0,n.bF)(u,{id:"category",label:"Категория:",modelValue:s.category,"onUpdate:modelValue":t[2]||(t[2]=e=>s.category=e),options:s.categoryOptions,"is-loading":s.isLoadingCategories,error:s.errors.category},null,8,["modelValue","options","is-loading","error"]),(0,n.Lk)("div",ge,[(0,n.bF)(d,{modelValue:s.isPublic,"onUpdate:modelValue":t[3]||(t[3]=e=>s.isPublic=e)},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)(" Сделать публичным ")]))),_:1},8,["modelValue"])])]),(0,n.Lk)("div",fe,[(0,n.bF)(p,{id:"prompt",label:"Промпт:",modelValue:s.prompt,"onUpdate:modelValue":t[4]||(t[4]=e=>s.prompt=e),placeholder:"Введите промпт для форматирования текста",error:s.errors.prompt},null,8,["modelValue","error"]),(0,n.bF)(l,{onClick:r.formatText,class:"format-button",icon:"wand_stars",iconOnly:""},null,8,["onClick"])]),(0,n.Lk)("div",ve,[(0,n.bF)(p,{id:"content",label:"Текст:",modelValue:s.content,"onUpdate:modelValue":t[5]||(t[5]=e=>s.content=e),placeholder:"Введите или вставьте текст для форматирования",error:s.errors.content},null,8,["modelValue","error"])]),(0,n.Lk)("div",be,[(0,n.bF)(m,{"is-submitting":s.isSubmitting,text:"Сохранить",icon:"save",onClick:r.saveContent},null,8,["is-submitting","onClick"]),(0,n.bF)(l,{variant:"clear",onClick:r.clearForm,icon:"delete"},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("Очистить форму")]))),_:1},8,["onClick"])])])):((0,n.uX)(),(0,n.CE)("div",ye,[(0,n.Lk)("button",{class:"auth-button",onClick:t[6]||(t[6]=(...t)=>e.openAuthModal&&e.openAuthModal(...t))},t[10]||(t[10]=[(0,n.Lk)("span",{class:"material-symbols-outlined"},"login",-1),(0,n.eW)(" Войти ")]))]))])):(0,n.Q3)("",!0)])),_:1})}var ke=o(640),Se=o(929),Ee=o(682),Oe=o(858);const Te=["checked"],Ae={key:0,class:"checkbox-label"};function Ce(e,t,o,a,i,s){return(0,n.uX)(),(0,n.CE)("label",{class:(0,d.C4)(["checkbox-field",{"is-checked":o.modelValue}])},[(0,n.Lk)("input",{type:"checkbox",checked:o.modelValue,onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.checked)),class:"checkbox-input"},null,40,Te),t[1]||(t[1]=(0,n.Lk)("span",{class:"checkbox-track"},[(0,n.Lk)("span",{class:"checkbox-thumb"})],-1)),e.$slots.default?((0,n.uX)(),(0,n.CE)("span",Ae,[(0,n.RG)(e.$slots,"default",{},void 0,!0)])):(0,n.Q3)("",!0)],2)}var Ne={name:"CheckboxField",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"]};const Le=(0,r.A)(Ne,[["render",Ce],["__scopeId","data-v-71659796"]]);var Ie=Le,Fe=(o(490),{name:"GeneratorView",components:{BaseButton:g.A,SubmitButton:ke.A,TextField:Se.A,SelectField:Ee.A,TextAreaField:Oe.A,CheckboxField:Ie},data(){return{isSubmitting:!1,prompt:this.loadFromStorage()?.prompt||"",content:this.loadFromStorage()?.content||"",title:this.loadFromStorage()?.title||"",description:this.loadFromStorage()?.description||"",category:this.loadFromStorage()?.category||"",isPublic:this.loadFromStorage()?.isPublic||!1,categoryOptions:[],isLoadingCategories:!1,generatedText:"",isGenerating:!1,errors:{title:"",description:"",category:"",content:"",prompt:""}}},computed:{...(0,h.aH)("ui",["slideOutGenerator"]),...(0,h.aH)("notes",["loading"]),...(0,h.L8)("auth",["isAuthenticated"]),...(0,h.L8)("notes",["categories"]),isOpen(){return this.slideOutGenerator?.isOpen||!1}},created(){},watch:{prompt(e){this.saveToStorage(),this.errors.prompt&&(this.errors.prompt="")},content(e){this.saveToStorage(),this.errors.content&&(this.errors.content="")},title(e){this.saveToStorage(),this.errors.title&&(this.errors.title="")},description(e){this.saveToStorage(),this.errors.description&&(this.errors.description="")},category(e){this.saveToStorage(),this.errors.category&&(this.errors.category="")},isPublic(e){this.saveToStorage()}},methods:{...(0,h.i0)("ui",["closeSlideOutGenerator"]),...(0,h.i0)("notes",["createNote","formatNote","fetchCategories"]),...(0,h.i0)("ui",["openAuthModal","closeAuthModal","addNotification"]),saveToStorage(){const e={prompt:this.prompt,content:this.content,title:this.title,description:this.description,category:this.category,isPublic:this.isPublic};localStorage.setItem("generator_data",JSON.stringify(e))},loadFromStorage(){const e=localStorage.getItem("generator_data");return e?JSON.parse(e):null},clearStorage(){localStorage.removeItem("generator_data")},async loadCategories(){try{this.isLoadingCategories=!0,await this.fetchCategories(),this.categoryOptions=this.categories.map((e=>({value:e.name,label:e.name})))}catch(e){console.error("Ошибка загрузки категорий:",e)}finally{this.isLoadingCategories=!1}},async formatText(){if(this.prompt.trim())if(this.content.trim())try{const e=await this.formatNote({text:this.content,prompt:this.prompt});this.content=e,this.addNotification({message:"Текст успешно отформатирован",type:"success"})}catch(e){console.error("Ошибка при форматировании:",e),this.addNotification({message:"Ошибка при форматировании",type:"error"})}else this.errors.content="Текст обязателен";else this.errors.prompt="Промпт обязателен"},validateForm(){this.errors={title:"",description:"",category:"",content:"",prompt:""};let e=!0;return this.title.trim()||(this.errors.title="Заголовок обязателен",e=!1),this.description.trim()||(this.errors.description="Описание обязательно",e=!1),this.category||(this.errors.category="Категория обязательна",e=!1),this.content.trim()||(this.errors.content="Текст обязателен",e=!1),e},async saveContent(){if(this.validateForm()&&!this.isSubmitting){this.isSubmitting=!0;try{const e=JSON.parse(localStorage.getItem("user")),t={title:this.title.trim(),description:this.description.trim(),category:String(this.category),userId:e.id,isPublic:Boolean(this.isPublic),text:String(this.content.trim())};await this.createNote(t),this.addNotification({message:"Текст успешно сохранен",type:"success"}),this.clearForm()}catch(e){console.error("Ошибка при сохранении:",e),this.addNotification({message:"Ошибка при сохранении",type:"error"})}finally{this.isSubmitting=!1}}},clearForm(){this.prompt="",this.content="",this.title="",this.description="",this.category="",this.isPublic=!1,this.clearStorage()},handleAuthClose(){this.closeAuthModal()},handleAuthSuccess(){this.closeAuthModal(),this.loadCategories()},async handleGenerate(){if(this.isAuthenticated){this.isSubmitting=!0;try{const e=await this.formatNote({text:this.content,prompt:this.prompt});this.content=e}catch(e){console.error("Ошибка при генерации текста:",e)}finally{this.isSubmitting=!1}}else this.openAuthModal()},async handleSave(){if(this.isAuthenticated){this.isSubmitting=!0;try{const e={title:"Сгенерированная заметка",description:"Заметка, созданная с помощью генератора",category:this.category,userId:0,isPublic:!1,text:this.content};await this.createNote(e),this.clearForm()}catch(e){console.error("Ошибка при сохранении заметки:",e)}finally{this.isSubmitting=!1}}else this.openAuthModal()},handleTitleMagic(){if(!this.content)return void this.addNotification({message:"В тексте должен быть заголовок перового уровня",type:"error"});const e=this.content.match(/^#\s+(.+)$/m);e&&e[1]?(this.title=e[1].trim(),this.addNotification({message:"Заголовок успешно извлечен",type:"success"})):this.addNotification({message:"Заголовок первого уровня не найден",type:"warning"})},handleDescriptionMagic(){if(!this.content)return void this.addNotification({message:"В поле Текст нет текста",type:"error"});let e=this.content.replace(/^#+\s+.+$/gm,"");e=e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").trim(),e?(this.description=e.length>100?e.substring(0,100)+"...":e,this.addNotification({message:"Описание успешно извлечено",type:"success"})):this.addNotification({message:"Не удалось извлечь описание",type:"warning"})},closeModal(){this.closeSlideOutGenerator()}}});const Me=(0,r.A)(Fe,[["render",_e],["__scopeId","data-v-5600f7d8"]]);var Re=Me;const we={class:"float-action-button"};function Be(e,t,o,a,i,s){const r=(0,n.g2)("BaseButton");return(0,n.uX)(),(0,n.CE)("div",we,[(0,n.bF)(r,{variant:"primary",size:"large",icon:"add",iconOnly:"",onClick:s.openGenerator},null,8,["onClick"])])}var De={name:"FloatActionButton",components:{BaseButton:g.A},props:{type:{type:String,default:"edit"}},methods:{...(0,h.i0)("ui",["openSlideOutGenerator"]),openGenerator(){this.openSlideOutGenerator()}}};const Ge=(0,r.A)(De,[["render",Be],["__scopeId","data-v-065e0780"]]);var Ve=Ge,xe=o(565),Pe={name:"App",components:{FloatActionButton:Ve,SlideOutGenerator:Re,Loader:O,Navigation:u,Breadcrumbs:b,Footer:B,AuthModal:W,NotificationContainer:J,SlideOutMenu:ue},computed:{...(0,h.aH)("ui",["authModal"]),...(0,h.aH)("ui",["slideOutGenerator"]),...(0,h.aH)("auth",["token"]),isAuthModalOpen(){return this.authModal?.isOpen||!1},authModalProps(){return this.authModal?.props||{}},isGeneratorOpen(){return this.slideOutGenerator?.isOpen||!1}},methods:{...(0,h.i0)("ui",["closeAuthModal","openSlideOutGenerator"]),...(0,h.i0)("auth",["logout"]),handleAuthSuccess(e){this.closeAuthModal()},openGenerator(){this.openSlideOutGenerator()},checkAuth(){const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t||(xe.Z.removeToken(),localStorage.removeItem("user"),this.logout())}},created(){console.log("App created"),console.log("https://tor4narek.ru/api"),this.checkAuth(),setTimeout((()=>this.loader=!1),2e3)},data(){return{loader:!0}}};const Xe=(0,r.A)(Pe,[["render",i]]);var Ue=Xe,$e=o(220),We=o(495);const je={notes:[],categories:[],currentNote:null,loading:!1,error:null},Qe={allNotes:e=>e.notes,publicNotes:e=>e.notes.filter((e=>e.isPublic)),privateNotes:e=>e.notes.filter((e=>!e.isPublic)),categories:e=>e.categories,currentNote:e=>e.currentNote,isLoading:e=>e.loading,error:e=>e.error},He={SET_NOTES(e,t){e.notes=t||[]},SET_CATEGORIES(e,t){e.categories=t||[]},SET_CURRENT_NOTE(e,t){e.currentNote=t},ADD_NOTE(e,t){e.notes.push(t)},UPDATE_NOTE(e,t){const o=e.notes.findIndex((e=>e.id===t.id));-1!==o&&e.notes.splice(o,1,t)},DELETE_NOTE(e,t){e.notes=e.notes.filter((e=>e.id!==t))},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t}},qe={async fetchPublicNotes({commit:e}){try{e("SET_LOADING",!0);const t=await We.sC.getPublicNotes();e("SET_NOTES",t)}catch(t){e("SET_ERROR",t.message)}finally{e("SET_LOADING",!1)}},async fetchPrivateNotes({commit:e}){try{e("SET_LOADING",!0);const t=await We.sC.getPrivateNotes();e("SET_NOTES",t)}catch(t){e("SET_ERROR",t.message)}finally{e("SET_LOADING",!1)}},async fetchNoteById({commit:e},t){try{e("SET_LOADING",!0);const o=await We.sC.getNoteById(t);console.log("response",o),e("SET_CURRENT_NOTE",o)}catch(o){e("SET_ERROR",o.message)}finally{e("SET_LOADING",!1)}},async createNote({commit:e},t){try{e("SET_LOADING",!0);const o=await We.sC.createNote(t);return e("ADD_NOTE",o),o}catch(o){throw e("SET_ERROR",o.message),o}finally{e("SET_LOADING",!1)}},async updateNote({commit:e},{id:t,data:o}){try{e("SET_LOADING",!0);const a=await We.sC.updateNote(t,o);return e("UPDATE_NOTE",a),a}catch(a){throw e("SET_ERROR",a.message),a}finally{e("SET_LOADING",!1)}},async deleteNote({commit:e},t){try{e("SET_LOADING",!0),await We.sC.deleteNote(t),e("DELETE_NOTE",t)}catch(o){throw e("SET_ERROR",o.message),o}finally{e("SET_LOADING",!1)}},async searchNotesByCategory({commit:e},t){try{e("SET_LOADING",!0);const o=await We.sC.searchNotesByCategory(t);e("SET_NOTES",o)}catch(o){e("SET_ERROR",o.message)}finally{e("SET_LOADING",!1)}},async fetchCategories({commit:e}){try{e("SET_LOADING",!0);const t=await We.sC.getCategories();e("SET_CATEGORIES",t)}catch(t){e("SET_ERROR",t.message)}finally{e("SET_LOADING",!1)}},async createCategory({commit:e},t){try{e("SET_LOADING",!0);const o=await We.sC.createCategory(t);return o}catch(o){throw e("SET_ERROR",o.message),o}finally{e("SET_LOADING",!1)}},async formatNote({commit:e},t){try{e("SET_LOADING",!0);const o=await We.sC.formatNote(t);return o}catch(o){throw e("SET_ERROR",o.message),o}finally{e("SET_LOADING",!1)}}};var ze={namespaced:!0,state:je,getters:Qe,mutations:He,actions:qe},Ke=o(340),Ze=o(600);const Ye={currentFile:null,loading:!1,error:null},Je={currentFile:e=>e.currentFile,isLoading:e=>e.loading,error:e=>e.error},et={SET_CURRENT_FILE(e,t){e.currentFile=t},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t}},tt={async fetchMarkdownFile({commit:e},t){try{e("SET_LOADING",!0);const o=await Ze.w.getMarkdownFile(t);return e("SET_CURRENT_FILE",o),o}catch(o){throw e("SET_ERROR",o.message),o}finally{e("SET_LOADING",!1)}}};var ot={namespaced:!0,state:Ye,getters:Je,mutations:et,actions:tt};const at={authModal:{isOpen:!1,props:{}},slideOutMenu:{isOpen:!1},slideOutGenerator:{isOpen:!1},notifications:[]},nt={SET_AUTH_MODAL_STATE(e,{isOpen:t,props:o={}}){e.authModal.isOpen=t,e.authModal.props=o},SET_SLIDE_OUT_MENU_STATE(e,t){e.slideOutMenu.isOpen=t},SET_SLIDE_OUT_GENERATOR_STATE(e,t){e.slideOutGenerator.isOpen=t},ADD_NOTIFICATION(e,t){e.notifications.push(t)},REMOVE_NOTIFICATION(e,t){e.notifications=e.notifications.filter((e=>e.id!==t))},CLEAR_NOTIFICATIONS(e){e.notifications=[]}},it={openAuthModal({commit:e},t={}){e("SET_AUTH_MODAL_STATE",{isOpen:!0,props:t})},closeAuthModal({commit:e}){e("SET_AUTH_MODAL_STATE",{isOpen:!1})},openSlideOutMenu({commit:e}){e("SET_SLIDE_OUT_MENU_STATE",!0)},closeSlideOutMenu({commit:e}){e("SET_SLIDE_OUT_MENU_STATE",!1)},toggleSlideOutMenu({commit:e,state:t}){e("SET_SLIDE_OUT_MENU_STATE",!t.slideOutMenu.isOpen)},openSlideOutGenerator({commit:e}){e("SET_SLIDE_OUT_GENERATOR_STATE",!0)},closeSlideOutGenerator({commit:e}){e("SET_SLIDE_OUT_GENERATOR_STATE",!1)},toggleSlideOutGenerator({commit:e,state:t}){e("SET_SLIDE_OUT_GENERATOR_STATE",!t.slideOutGenerator.isOpen)},addNotification({commit:e},{message:t,type:o="success",timeout:a=3e3}){const n=Date.now().toString();e("ADD_NOTIFICATION",{id:n,message:t,type:o}),a>0&&setTimeout((()=>{e("REMOVE_NOTIFICATION",n)}),a)},removeNotification({commit:e},t){e("REMOVE_NOTIFICATION",t)},clearNotifications({commit:e}){e("CLEAR_NOTIFICATIONS")}},st={isAuthModalOpen:e=>e.authModal.isOpen,authModalProps:e=>e.authModal.props,isSlideOutMenuOpen:e=>e.slideOutMenu.isOpen,isSlideOutGeneratorOpen:e=>e.slideOutGenerator.isOpen,notifications:e=>e.notifications};var rt={namespaced:!0,state:at,mutations:nt,actions:it,getters:st},lt=o(406),ct=(0,h.y$)({modules:{notes:ze,auth:Ke.A,files:ot,ui:rt},plugins:[(0,lt.A)({paths:["notes.notes"]})]});const ut=[{path:"/",name:"home",component:()=>o.e(889).then(o.bind(o,889))},{path:"/about",name:"about",component:()=>o.e(963).then(o.bind(o,963))},{path:"/generator",name:"generator",component:()=>o.e(775).then(o.bind(o,775))},{path:"/note/:id",name:"note",component:()=>o.e(869).then(o.bind(o,869)),props:!0},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>o.e(552).then(o.bind(o,171))}],dt=(0,$e.aE)({history:(0,$e.Bt)(),routes:ut});var pt=dt,mt=o(404);async function ht(){try{await ct.dispatch("notes/fetchPublicNotes");const e=(0,a.Ef)(Ue);e.config.globalProperties.$marked=mt.xI,e.use(ct),e.use(pt),e.mount("#app"),console.log("App initialized successfully"),console.log("API Base URL:","https://tor4narek.ru/api")}catch(e){console.error("Error initializing app:",e)}}mt.xI.setOptions({sanitize:!0,breaks:!0,gfm:!0}),ht()}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,a,n,i){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],i=e[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&i||s>=i)&&Object.keys(o.O).every((function(e){return o.O[e](a[l])}))?a.splice(l--,1):(r=!1,i<s&&(s=i));if(r){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,n,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,a){return o.f[a](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+"."+{552:"69c9026c",775:"ac50b908",869:"585d5ca1",889:"f606c6d6",963:"ec3828bf"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"css/"+e+"."+{552:"cadfa03c",775:"66dcbfdd",869:"5da24e56",889:"abee3db7",963:"7296f858"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="design_notes:";o.l=function(a,n,i,s){if(e[a])e[a].push(n);else{var r,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+i){r=d;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,o.nc&&r.setAttribute("nonce",o.nc),r.setAttribute("data-webpack",t+i),r.src=a),e[a]=[n];var p=function(t,o){r.onerror=r.onload=null,clearTimeout(m);var n=e[a];if(delete e[a],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/ITMO_Note/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,n,i){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",o.nc&&(s.nonce=o.nc);var r=function(o){if(s.onerror=s.onload=null,"load"===o.type)n();else{var a=o&&o.type,r=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+r+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=r,s.parentNode&&s.parentNode.removeChild(s),i(l)}};return s.onerror=s.onload=r,s.href=t,a?a.parentNode.insertBefore(s,a.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var n=o[a],i=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(i===e||i===t))return n}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){n=s[a],i=n.getAttribute("data-href");if(i===e||i===t)return n}},a=function(a){return new Promise((function(n,i){var s=o.miniCssF(a),r=o.p+s;if(t(s,r))return n();e(a,r,null,n,i)}))},n={524:0};o.f.miniCss=function(e,t){var o={552:1,775:1,869:1,889:1,963:1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=a(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={524:0};o.f.j=function(t,a){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var i=new Promise((function(o,a){n=e[t]=[o,a]}));a.push(n[2]=i);var s=o.p+o.u(t),r=new Error,l=function(a){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",r.name="ChunkLoadError",r.type=i,r.request=s,n[1](r)}};o.l(s,l,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,i,s=a[0],r=a[1],l=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(l)var u=l(o)}for(t&&t(a);c<s.length;c++)i=s[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},a=self["webpackChunkdesign_notes"]=self["webpackChunkdesign_notes"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(955)}));a=o.O(a)})();
//# sourceMappingURL=app.872c0da6.js.map